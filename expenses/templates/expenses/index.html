{% extends 'expenses/base.html' %}
{% load static %}
 from django.db.models import Sum
{% block css %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link href="{% static 'vendor/css/index.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="title">
    <h1>По категориям</h1>
  </div>
<ul class="nav nav-tabs">
  <li class="nav-item">
    <button class="nav-link active" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample1" aria-expanded="false" aria-controls="collapseWidthExample">Первая неделя</button>
  </li>
  <li class="nav-item">
      <button class="nav-link" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample2" aria-expanded="false" aria-controls="collapseExample">Вторая неделя</button>
  </li>
  <li class="nav-item">
    <button class="nav-link" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample3" aria-expanded="false" aria-controls="collapseExample3">Третья неделя</button>
  </li>
  <li class="nav-item">
    <button class="nav-link"  type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample4" aria-expanded="false" aria-controls="collapseExample4">Четвертая неделя</button>
  </li>
</ul>
<div class="d-flex flex-row mb-3">
<div class="card" style="width: 10rem;">
  <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <div class="row">
    <div class="col text-right">№ Недели</div>
        </div>
    </li >
      {% for category in totals.first.keys  %}
    <li class="list-group-item">
        <div class="row">
    <div class="col text-right">{{ category }}</div>
        </div>
    </li >
      {% endfor %}
  </ul>
</div>

    <div style="min-height: 120px;" >
  <div class="collapse collapse-horizontal" id="collapseExample1">
    <div class="card" style="width: 15rem;">
  <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <div class="row">
    <div class="col text-right">Первая неделя</div>
        </div>
    </li >
      {% for summ in totals.first.values %}
    <li class="list-group-item">
        <div class="row">
    <div class="col text-right" >{{ summ|default_if_none:0 }} </div>
        </div>
    </li >
      {% endfor %}
  </ul>
</div>
  </div>
</div>


<div style="min-height: 120px;" >
  <div class="collapse collapse-horizontal" id="collapseExample2">
    <div class="card" style="width: 15rem;">
  <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <div class="row">
    <div class="col text-right">Вторая неделя</div>
        </div>
    </li >
      {% for summ in totals.second.values  %}
    <li class="list-group-item">
        <div class="row">
    <div class="col text-right" >{{ summ|default_if_none:0 }} </div>
        </div>
    </li >
      {% endfor %}
  </ul>
</div>
  </div>
</div>
<div style="min-height: 120px;">
  <div class="collapse collapse-horizontal" id="collapseExample3">
    <div class="card" style="width: 15rem;">
  <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <div class="row">
    <div class="col text-right">Третья неделя</div>
        </div>
    </li >
      {% for summ in totals.third.values %}
    <li class="list-group-item">
        <div class="row">
    <div class="col text-right" >{{ summ|default_if_none:0 }} </div>
        </div>
    </li >
      {% endfor %}
  </ul>
</div>
  </div>
</div>
<div style="min-height: 120px;">
  <div class="collapse collapse-horizontal" id="collapseExample4">
    <div class="card" style="width: 15rem;">
  <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <div class="row">
    <div class="col text-right">Четвертая неделя</div>
        </div>
    </li >
      {% for summ in totals.fourth.values %}
    <li class="list-group-item">
        <div class="row">
    <div class="col text-right" >{{ summ|default_if_none:0 }} </div>
        </div>
    </li >
      {% endfor %}
  </ul>
</div>
  </div>
</div>

</div>




{% endblock %}